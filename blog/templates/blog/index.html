{% extends "blog/base_generic.html" %}

{% block content %}
<header class="header">
    <h1>DIY Blog</h1>
    <p>This is a simple blog created with Django</p>
</header>

<section class="about">
    <h2>About</h2>
    <ul class="about__list">
        <li class="about__list-item">
            <h4>Total number of blog posts</h4>
            <div>
                <p>{{num_of_blog_posts}}</p>
            </div>
        </li> 
        <li class="about__list-item">
            <h4>Total number of bloggers</h4>
            <div>
                <p>{{num_of_bloggers}}</p>
            </div>
        </li>
        <li class="about__list-item">
            <h4>Total number of comments</h4>
            <div>
                <p>{{num_of_comments}}</p>
            </div>
        </li>
    </ul>
</section>

<section class="top_contributors">
    <h2>Top contributors</h2>
    <ul class="top_contributors__list">
        {% for contributor, num_of_blog_posts in top_contributors.items %}
        <li class="top_contributors__list-item">
            <div>
                <div class="top_contributors__image-wrapper">
                    <img src="{{ contributor.profile_image_thumbnail.url }}" alt="{{contributor.username}} Avatar">
                </div>
                <h4>{{contributor.username}}</h4>
                <p>Posted {{num_of_blog_posts}} time{{num_of_blog_posts|pluralize}}</p>
            </div>
        </li>
        {% endfor %}
    </ul>
</section>

<section class="most_popular_cats">
    <h2>Most popular categories</h2>
    <ul class="most_popular_cats__list">
        {% for category in most_pop_cats %}
        <li class="most_popular_cats__list-item">
            <p>{{ category }}</p>
        </li>
        {% endfor %}
    </ul>
</section>

<section class="most_freq_words">
    <h2>Most frequently used words</h2>
    <ul class="most_freq_words__list">
        {% for tag in tags %}
        <li class="most_freq_words__list-item">
            <a href="{% url 'blog:tags' tag.word %}" class="link-dark">{{ tag.word }}</a>
        </li>
        {% endfor %}
    </ul>
</section>
{% endblock %}